{"remainingRequest":"C:\\StandAppGit\\StandApp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\StandAppGit\\StandApp\\src\\components\\Timer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\StandAppGit\\StandApp\\src\\components\\Timer.vue","mtime":1619461985895},{"path":"C:\\StandAppGit\\StandApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618077775855},{"path":"C:\\StandAppGit\\StandApp\\node_modules\\vue-loader\\lib\\index.js","mtime":1618077783517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJ0aW1lciIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIENPTE9SX0NPREVTOiB7DQogICAgICAgIGluZm86IHsNCiAgICAgICAgICBjb2xvcjogImdyZWVuIiwNCiAgICAgICAgfSwNCiAgICAgICAgd2FybmluZzogew0KICAgICAgICAgIGNvbG9yOiAib3JhbmdlIiwNCiAgICAgICAgICB0aHJlc2hvbGQ6IDEwLA0KICAgICAgICB9LA0KICAgICAgICBhbGVydDogew0KICAgICAgICAgIGNvbG9yOiAicmVkIiwNCiAgICAgICAgICB0aHJlc2hvbGQ6IDUsDQogICAgICAgIH0sDQogICAgICB9LA0KICAgICAgRlVMTF9EQVNIX0FSUkFZOiAyODMsDQogICAgICBUSU1FX0xJTUlUOiAyMCwNCiAgICAgIHRpbWVQYXNzZWQ6IDAsDQogICAgICB0aW1lTGVmdDogdGhpcy5USU1FX0xJTUlULA0KICAgICAgdGltZXJJbnRlcnZhbDogbnVsbCwNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMudGltZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsNCiAgICAgIHRoaXMudGltZVBhc3NlZCA9IHRoaXMudGltZVBhc3NlZCArPSAxOw0KICAgICAgdGhpcy50aW1lTGVmdCA9IHRoaXMuVElNRV9MSU1JVCAtIHRoaXMudGltZVBhc3NlZDsNCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiYXNlLXRpbWVyLWxhYmVsIikuaW5uZXJIVE1MID0gdGhpcy5mb3JtYXRUaW1lKA0KICAgICAgICB0aGlzLnRpbWVMZWZ0DQogICAgICApOw0KICAgICAgdGhpcy5zZXRDaXJjbGVEYXNoYXJyYXkoKTsNCiAgICAgIHRoaXMuc2V0UmVtYWluaW5nUGF0aENvbG9yKHRoaXMudGltZUxlZnQpOw0KDQogICAgICBpZiAodGhpcy50aW1lTGVmdCA9PT0gMCkgew0KICAgICAgICB0aGlzLm9uVGltZXNVcCgpOw0KICAgICAgfQ0KICAgIH0sIDEwMDApOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZm9ybWF0VGltZSgpIHsNCiAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRoaXMudGltZUxlZnQgLyA2MCk7DQogICAgICBsZXQgc2Vjb25kcyA9IHRoaXMudGltZUxlZnQgJSA2MDsNCiAgICAgIGlmIChzZWNvbmRzIDwgMTApIHsNCiAgICAgICAgc2Vjb25kcyA9IGAwJHtzZWNvbmRzfWA7DQogICAgICB9DQoNCiAgICAgIHJldHVybiBgJHttaW51dGVzfToke3NlY29uZHN9YDsNCiAgICB9LA0KICAgIHNldENpcmNsZURhc2hhcnJheSgpIHsNCiAgICAgIGNvbnN0IGNpcmNsZURhc2hhcnJheSA9IGAkeygNCiAgICAgICAgdGhpcy5jYWxjdWxhdGVUaW1lRnJhY3Rpb24oKSAqIHRoaXMuRlVMTF9EQVNIX0FSUkFZDQogICAgICApLnRvRml4ZWQoMCl9IDI4M2A7DQogICAgICBkb2N1bWVudA0KICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoImJhc2UtdGltZXItcGF0aC1yZW1haW5pbmciKQ0KICAgICAgICAuc2V0QXR0cmlidXRlKCJzdHJva2UtZGFzaGFycmF5IiwgY2lyY2xlRGFzaGFycmF5KTsNCiAgICB9LA0KICAgIGNhbGN1bGF0ZVRpbWVGcmFjdGlvbigpIHsNCiAgICAgIGNvbnN0IHJhd1RpbWVGcmFjdGlvbiA9IHRoaXMudGltZUxlZnQgLyB0aGlzLlRJTUVfTElNSVQ7DQogICAgICByZXR1cm4gcmF3VGltZUZyYWN0aW9uIC0gKDEgLyB0aGlzLlRJTUVfTElNSVQpICogKDEgLSByYXdUaW1lRnJhY3Rpb24pOw0KICAgIH0sDQogICAgc2V0UmVtYWluaW5nUGF0aENvbG9yKHRpbWVMZWZ0KSB7DQogICAgICBjb25zdCB7IGFsZXJ0LCB3YXJuaW5nLCBpbmZvIH0gPSB0aGlzLkNPTE9SX0NPREVTOw0KICAgICAgY29uc29sZS5sb2codGhpcy5DT0xPUl9DT0RFUykNCiAgICAgIGlmICh0aW1lTGVmdCA8PSBhbGVydC50aHJlc2hvbGQpIHsNCiAgICAgICAgY29uc29sZS5sb2coDQogICAgICAgICAgImJlZm9yZSIgKw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJhc2UtdGltZXItcGF0aC1yZW1haW5pbmciKS5jbGFzc0xpc3QNCiAgICAgICAgKTsNCiAgICAgICAgZG9jdW1lbnQNCiAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoImJhc2UtdGltZXItcGF0aC1yZW1haW5pbmciKQ0KICAgICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKHdhcm5pbmcuY29sb3IpOw0KICAgICAgICBkb2N1bWVudA0KICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCgiYmFzZS10aW1lci1wYXRoLXJlbWFpbmluZyIpDQogICAgICAgICAgLmNsYXNzTGlzdC5hZGQoYWxlcnQuY29sb3IpOw0KDQogICAgICAgIGNvbnNvbGUubG9nKA0KICAgICAgICAgICJhZnRlciIgKw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJhc2UtdGltZXItcGF0aC1yZW1haW5pbmciKS5jbGFzc0xpc3QNCiAgICAgICAgKTsNCiAgICAgIH0gZWxzZSBpZiAodGltZUxlZnQgPD0gd2FybmluZy50aHJlc2hvbGQpIHsNCiAgICAgICAgZG9jdW1lbnQNCiAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoImJhc2UtdGltZXItcGF0aC1yZW1haW5pbmciKQ0KICAgICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKGluZm8uY29sb3IpOw0KICAgICAgICBkb2N1bWVudA0KICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCgiYmFzZS10aW1lci1wYXRoLXJlbWFpbmluZyIpDQogICAgICAgICAgLmNsYXNzTGlzdC5hZGQod2FybmluZy5jb2xvcik7DQogICAgICB9DQogICAgfSwNCiAgICBvblRpbWVzVXAoKSB7DQogICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXJJbnRlcnZhbCk7DQogICAgfSwNCiAgfSwNCiAgY29tcHV0ZWQ6IHt9LA0KfTsNCg=="},{"version":3,"sources":["Timer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Timer.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div id=\"timer\">\r\n    <div class=\"base-timer\">\r\n      <svg\r\n        class=\"base-timer__svg\"\r\n        viewBox=\"0 0 100 100\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <g class=\"base-timer__circle\">\r\n          <circle\r\n            class=\"base-timer__path-elapsed\"\r\n            cx=\"50\"\r\n            cy=\"50\"\r\n            r=\"45\"\r\n          ></circle>\r\n          <path\r\n            id=\"base-timer-path-remaining\"\r\n            stroke-dasharray=\"283\"\r\n            :class=\"'base-timer__path-remaining ' + this.COLOR_CODES.info.color\"\r\n            d=\"\r\n          M 50, 50\r\n          m -45, 0\r\n          a 45,45 0 1,0 90,0\r\n          a 45,45 0 1,0 -90,0\r\n        \"\r\n          ></path>\r\n        </g>\r\n      </svg>\r\n      <span id=\"base-timer-label\" class=\"base-timer__label\">{{\r\n        formatTime()\r\n      }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"timer\",\r\n  data() {\r\n    return {\r\n      COLOR_CODES: {\r\n        info: {\r\n          color: \"green\",\r\n        },\r\n        warning: {\r\n          color: \"orange\",\r\n          threshold: 10,\r\n        },\r\n        alert: {\r\n          color: \"red\",\r\n          threshold: 5,\r\n        },\r\n      },\r\n      FULL_DASH_ARRAY: 283,\r\n      TIME_LIMIT: 20,\r\n      timePassed: 0,\r\n      timeLeft: this.TIME_LIMIT,\r\n      timerInterval: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.timerInterval = setInterval(() => {\r\n      this.timePassed = this.timePassed += 1;\r\n      this.timeLeft = this.TIME_LIMIT - this.timePassed;\r\n      document.getElementById(\"base-timer-label\").innerHTML = this.formatTime(\r\n        this.timeLeft\r\n      );\r\n      this.setCircleDasharray();\r\n      this.setRemainingPathColor(this.timeLeft);\r\n\r\n      if (this.timeLeft === 0) {\r\n        this.onTimesUp();\r\n      }\r\n    }, 1000);\r\n  },\r\n  methods: {\r\n    formatTime() {\r\n      const minutes = Math.floor(this.timeLeft / 60);\r\n      let seconds = this.timeLeft % 60;\r\n      if (seconds < 10) {\r\n        seconds = `0${seconds}`;\r\n      }\r\n\r\n      return `${minutes}:${seconds}`;\r\n    },\r\n    setCircleDasharray() {\r\n      const circleDasharray = `${(\r\n        this.calculateTimeFraction() * this.FULL_DASH_ARRAY\r\n      ).toFixed(0)} 283`;\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .setAttribute(\"stroke-dasharray\", circleDasharray);\r\n    },\r\n    calculateTimeFraction() {\r\n      const rawTimeFraction = this.timeLeft / this.TIME_LIMIT;\r\n      return rawTimeFraction - (1 / this.TIME_LIMIT) * (1 - rawTimeFraction);\r\n    },\r\n    setRemainingPathColor(timeLeft) {\r\n      const { alert, warning, info } = this.COLOR_CODES;\r\n      console.log(this.COLOR_CODES)\r\n      if (timeLeft <= alert.threshold) {\r\n        console.log(\r\n          \"before\" +\r\n            document.getElementById(\"base-timer-path-remaining\").classList\r\n        );\r\n        document\r\n          .getElementById(\"base-timer-path-remaining\")\r\n          .classList.remove(warning.color);\r\n        document\r\n          .getElementById(\"base-timer-path-remaining\")\r\n          .classList.add(alert.color);\r\n\r\n        console.log(\r\n          \"after\" +\r\n            document.getElementById(\"base-timer-path-remaining\").classList\r\n        );\r\n      } else if (timeLeft <= warning.threshold) {\r\n        document\r\n          .getElementById(\"base-timer-path-remaining\")\r\n          .classList.remove(info.color);\r\n        document\r\n          .getElementById(\"base-timer-path-remaining\")\r\n          .classList.add(warning.color);\r\n      }\r\n    },\r\n    onTimesUp() {\r\n      clearInterval(this.timerInterval);\r\n    },\r\n  },\r\n  computed: {},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.base-timer {\r\n  position: relative;\r\n  width: 300px;\r\n  height: 300px;\r\n}\r\n\r\n.base-timer__svg {\r\n  transform: scaleX(-1);\r\n}\r\n\r\n.base-timer__circle {\r\n  fill: none;\r\n  stroke: none;\r\n}\r\n\r\n.base-timer__path-elapsed {\r\n  stroke-width: 7px;\r\n  stroke: grey;\r\n}\r\n\r\n.base-timer__path-remaining {\r\n  stroke-width: 7px;\r\n  stroke-linecap: round;\r\n  transform: rotate(90deg);\r\n  transform-origin: center;\r\n  transition: 1s linear all;\r\n  fill-rule: nonzero;\r\n  stroke: currentColor;\r\n}\r\n\r\n.green {\r\n  color: rgb(65, 184, 131);\r\n}\r\n\r\n.orange {\r\n  color: orange;\r\n}\r\n\r\n.red {\r\n  color: red;\r\n}\r\n\r\n.base-timer__label {\r\n  position: absolute;\r\n  width: 300px;\r\n  height: 300px;\r\n  top: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 48px;\r\n}\r\n</style>"]}]}